<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AI Stillcut – TRUST PRODUCTION</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="app-shell">
    <header>
      <div class="logo-wrap">
        <div class="logo-mark"><span></span></div>
        <div class="logo-text">
          <div class="logo-text-main">TRUST PRODUCTION</div>
          <div class="logo-text-sub">AI STILLCUT BRIEF</div>
        </div>
      </div>
      <nav>
        <a href="index.html">HOME</a>
        <a href="equipment.html">GEAR</a>
        <a href="ai-stillcut.html" class="active">AI STILLCUT</a>
      </nav>
    </header>

    <section class="hero">
      <div class="hero-inner">
        <div class="hero-pill">
          <span class="hero-pill-dot"></span>
          Style Preview & Director Matching
        </div>
        <h1 class="hero-title">
          “이 레퍼런스 느낌으로,<br />
          우리 브랜드를 찍어줘.”
        </h1>
        <p class="hero-desc">
          레퍼런스 링크와 프로젝트 정보를 보내주면,  
          AI가 무드와 톤을 분석해서 스틸컷과 어울리는 감독 스타일을 추천해.
        </p>
        <div class="hero-meta">
          <span>AI 스타일 분석</span>
          <span>레퍼런스 기반 스틸컷</span>
          <span>AI Stillcut Reservation DB 연동</span>
        </div>
      </div>
    </section>

    <main>
      <section class="card">
        <div class="card-header">
          <div>
            <div class="card-title">AI 스틸컷 요청 폼</div>
            <div class="card-sub">
              정보는 간단하게, 대신 무드 설명은 솔직하고 디테일하게.
            </div>
          </div>
        </div>

        <div class="form-meta-grid" style="margin-bottom: 14px;">
          <div class="form-meta-item">
            <span class="label">좋아하는 레퍼런스</span>
            <span class="value">A24 / indie film / film grain</span>
          </div>
          <div class="form-meta-item">
            <span class="label">출력 결과</span>
            <span class="value">예상 스틸컷 + 감독 스타일 제안</span>
          </div>
        </div>

        <form id="ai-form">
          <div class="input-group">
            <label>프로젝트 제목 (Project Title)</label>
            <input
              id="ProjectTitle"
              placeholder="예: 브랜드 필름, 앨범 티저, 룩북 영상"
            />
          </div>

          <div class="form-two-cols">
            <div class="input-group">
              <label>전화번호 (Phone)</label>
              <input id="Phone" placeholder="010-0000-0000" />
            </div>
            <div class="input-group">
              <label>이메일 (Email)</label>
              <input id="Email" placeholder="email@domain.com" />
            </div>
          </div>

          <div class="form-two-cols">
            <div class="input-group">
              <label>Video Type</label>
              <input
                id="VideoType"
                placeholder="예: 브랜딩 필름 / 웨딩 / 패션 / MV"
              />
            </div>
            <div class="input-group">
              <label>러닝타임 (Runtime)</label>
              <input id="Runtime" placeholder="예: 30초 / 1분" />
            </div>
          </div>

          <div class="form-two-cols">
            <div class="input-group">
              <label>예산 (Budget)</label>
              <input id="Budget" placeholder="예: 300~500만 원" />
            </div>
            <div class="input-group">
              <label>Shoot Date</label>
              <input id="ShootDate" type="date" />
            </div>
          </div>

          <div class="form-two-cols">
            <div class="input-group">
              <label>Location</label>
              <input id="Location" placeholder="예: 서울 성수 / 부산 / 해외" />
            </div>
            <div class="input-group">
              <label>Reference Link</label>
              <input
                id="ReferenceLink"
                placeholder="무드 레퍼런스 YouTube / Pinterest / 이미지 링크"
              />
            </div>
          </div>

          <div class="input-group">
            <label>Message (스타일 설명)</label>
            <textarea
              id="Message"
              placeholder="예: 필름 톤, 인물 중심, 네온/야간, 자연광만, 다큐처럼 담담하게 등 최대한 솔직하게."
            ></textarea>
          </div>

          <button type="button" id="ai-submit">AI 스틸컷 요청 보내기</button>
          <p class="footer-note">
            제출 즉시 Notion AI Stillcut Reservation DB에 기록돼.  
            실제 AI 합성 파이프라인은 순차적으로 붙여 나가면 돼.
          </p>
        </form>
      </section>
    </main>
  </div>

  <script>
    document.getElementById("ai-submit").addEventListener("click", async () => {
      const body = {
        Title: "AI Stillcut Request",
        ProjectTitle: ProjectTitle.value,
        Phone: Phone.value,
        Email: Email.value,
        VideoType: VideoType.value,
        Runtime: Runtime.value,
        Budget: Budget.value,
        ShootDate: ShootDate.value,
        Location: Location.value,
        ReferenceLink: ReferenceLink.value,
        Message: Message.value,
      };

      if (!body.ProjectTitle || !body.Email) {
        alert("프로젝트 제목과 이메일은 꼭 적어줘.");
        return;
      }

      try {
        const res = await fetch("/.netlify/functions/ai-stillcut-request", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(body),
        });

        const json = await res.json();
        if (json.ok) {
          alert("AI 스틸컷 요청이 접수됐어!");
          document.getElementById("ai-form").reset();
        } else {
          alert("서버에서 오류가 났어. 잠시 후 다시 시도해줘.");
        }
      } catch (e) {
        console.error(e);
        alert("연결에 문제가 있어. 인터넷이나 서버를 확인해줘.");
      }
    });
  </script>
</body>
</html>