<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AI Stillcut – fiducia collective</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="app-shell">
    <header>
      <div class="logo-wrap">
        <div class="logo-mark"><span></span></div>
        <div class="logo-text">
          <div class="logo-text-main">FIDUCIA COLLECTIVE</div>
          <div class="logo-text-sub">AI STILLCUT & DIRECTOR STYLE PREVIEW</div>
        </div>
      </div>
      <nav>
        <a href="index.html">HOME</a>
        <a href="equipment.html">GEAR</a>
        <a href="ai-stillcut.html" class="active">AI STILLCUT</a>
      </nav>
    </header>

    <section class="hero">
      <div class="hero-inner">
        <div class="hero-pill">
          <span class="hero-pill-dot"></span>
          Reference 기반 스타일 프리뷰
        </div>
        <h1 class="hero-title">
          “이 레퍼런스 무드로,<br />
          우리 브랜드를 찍어줘.”
        </h1>
        <p class="hero-desc">
          레퍼런스 링크와 프로젝트 정보를 보내주면,  
          AI가 톤·무드·구도를 분석해서 예상 스틸컷과 어울리는 감독 스타일을 제안합니다.
        </p>
        <div class="hero-meta">
          <span>브랜딩 / 웨딩 / 패션 / MV 모두 지원</span>
          <span>AI Stillcut Reservation DB 연동</span>
        </div>
      </div>
    </section>

    <main>
      <section class="card">
        <div class="card-header">
          <div>
            <div class="card-title">AI 스틸컷 요청 폼</div>
            <div class="card-sub">
              최대한 솔직하게 적을수록, 결과물에 가까운 스틸컷이 나옵니다.
            </div>
          </div>
        </div>

        <div class="form-meta-grid" style="margin-bottom: 14px;">
          <div class="form-meta-item">
            <span class="label">추천 레퍼런스 톤</span>
            <span class="value">A24, indie film, film grain, low key lighting</span>
          </div>
          <div class="form-meta-item">
            <span class="label">출력</span>
            <span class="value">예상 스틸컷 + 감독 스타일 제안</span>
          </div>
        </div>

        <form id="ai-form">
          <div class="input-group">
            <label>프로젝트 제목 (Project Title)</label>
            <input
              id="ProjectTitle"
              placeholder="예: 브랜드 필름 / 앨범 티저 / 룩북 영상"
            />
          </div>

          <div class="form-two-cols">
            <div class="input-group">
              <label>전화번호 (Phone)</label>
              <input id="Phone" placeholder="010-0000-0000" />
            </div>
            <div class="input-group">
              <label>이메일 (Email)</label>
              <input id="Email" placeholder="email@domain.com" />
            </div>
          </div>

          <div class="form-two-cols">
            <div class="input-group">
              <label>Video Type</label>
              <input
                id="VideoType"
                placeholder="예: 브랜딩 / 웨딩 / 패션 / MV / 다큐"
              />
            </div>
            <div class="input-group">
              <label>러닝타임 (Runtime)</label>
              <input id="Runtime" placeholder="예: 30초 / 1분 / 3분" />
            </div>
          </div>

          <div class="form-two-cols">
            <div class="input-group">
              <label>예산 (Budget)</label>
              <input id="Budget" placeholder="예: 300~500만 원" />
            </div>
            <div class="input-group">
              <label>Shoot Date</label>
              <input id="ShootDate" type="date" />
            </div>
          </div>

          <div class="form-two-cols">
            <div class="input-group">
              <label>Location</label>
              <input id="Location" placeholder="예: 서울 성수 / 부산 해운대" />
            </div>
            <div class="input-group">
              <label>Reference Link</label>
              <input
                id="ReferenceLink"
                placeholder="무드 레퍼런스 YouTube / Pinterest / 이미지 링크"
              />
            </div>
          </div>

          <div class="input-group">
            <label>Message (스타일 설명)</label>
            <textarea
              id="Message"
              placeholder="예: 필름 톤, 인물 중심, 네온/야간, 자연광만, 다큐처럼 담담하게, 롱테이크, 핸드헬드 위주 등 마음껏 적어주세요."
            ></textarea>
          </div>

          <button type="button" id="ai-submit">AI 스틸컷 요청 보내기</button>
          <p class="footer-note">
            제출 즉시 Notion AI Stillcut Reservation DB에 기록됩니다.  
            실제 스틸컷 이미지 생성 파이프라인은 이후에 천천히 붙여가면 돼요.
          </p>
        </form>
      </section>
    </main>
  </div>

  <script>
    document.getElementById("ai-submit").addEventListener("click", async () => {
      const body = {
        Title: "AI Stillcut Request",
        ProjectTitle: ProjectTitle.value,
        Phone: Phone.value,
        Email: Email.value,
        VideoType: VideoType.value,
        Runtime: Runtime.value,
        Budget: Budget.value,
        ShootDate: ShootDate.value,
        Location: Location.value,
        ReferenceLink: ReferenceLink.value,
        Message: Message.value,
      };

      if (!body.ProjectTitle || !body.Email) {
        alert("프로젝트 제목과 이메일은 꼭 적어주세요.");
        return;
      }

      try {
        const res = await fetch("/.netlify/functions/ai-stillcut-request", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(body),
        });

        const json = await res.json();
        if (json.ok) {
          alert("AI 스틸컷 요청이 접수되었습니다!");
          document.getElementById("ai-form").reset();
        } else {
          alert("서버에서 오류가 났습니다. 잠시 후 다시 시도해 주세요.");
        }
      } catch (e) {
        console.error(e);
        alert("연결에 문제가 있습니다. 인터넷이나 서버 상태를 확인해 주세요.");
      }
    });
  </script>
</body>
</html>